@layer base {
  :root {
    --elev-1: 0 2px 4px rgba(0,0,0,0.4), 0 1px 0 rgba(255,255,255,0.04) inset;
    --elev-2: 0 4px 16px rgba(0,0,0,0.6), 0 1px 0 rgba(255,255,255,0.04) inset;
    --elev-card: 0 4px 12px rgba(0,0,0,.12);
    --elev-overlay: 0 6px 20px rgba(0,0,0,.16);
    --radius-lg: 12px;
    --radius-xl: 20px;
    --event-bg: var(--surface-2);
    --event-border: rgba(255,255,255,.08);
    --timeline-now: var(--accent, #A020F0);
    --noise-texture: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='3' height='3' viewBox='0 0 3 3'%3E%3Crect width='1' height='1' fill='rgba(255,255,255,0.15)'/%3E%3Crect x='1' y='2' width='1' height='1' fill='rgba(255,255,255,0.15)'/%3E%3Crect x='2' y='1' width='1' height='1' fill='rgba(255,255,255,0.15)'/%3E%3C/svg%3E");
  }
}

@layer utilities {
  .card3d {
    background: linear-gradient(
      to bottom,
      color-mix(in srgb, var(--cat) 92%, white),
      var(--cat),
      color-mix(in srgb, var(--cat) 88%, black)
    );
    border: 1px solid color-mix(in srgb, var(--cat) 50%, transparent);
    box-shadow: var(--elev-1);
    transform: translateZ(0);
    opacity: 1;
  }
  .card3d::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.2);
    pointer-events: none;
  }
  .card3d::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background-image: var(--noise-texture);
    opacity: 0.15;
    pointer-events: none;
  }
  .card3d-selected {
    box-shadow: var(--elev-2);
    transform: translateY(-1px);
  }
  .card3d-current {
    box-shadow: var(--elev-2);
    opacity: 0.95;
  }
}
